# Cell World - 细胞世界

一个基于元胞自动机的生命游戏模拟，使用 Python 和 Pygame 实现。

## 项目简介

细胞世界是一个模拟生命演化的游戏，基于元胞自动机规则。在这个世界中，生物由细胞组成，它们会生长、分裂、捕食和死亡。每个生物遵循以下规则：

- 生物由多个细胞组成，每个细胞占据网格中的一个单元格
- 细胞按照类似康威生命游戏的规则生长和死亡
- 生物会随着年龄增长而老化，逐渐失去细胞
- 当生物内部出现空行或空列时，它会分裂成两个新生物
- 生物可以捕食比自己小的其他生物

## 安装与运行

### 依赖项

- Python 3.13.7
- Pygame 2.5.2+
- Numpy 1.24.0+

### 安装步骤

1. 克隆或下载本项目
2. 安装依赖：

```bash
pip install -r requirements.txt
```

### 运行游戏

```bash
python -m cell_world_py.main
```

## 配置

游戏配置存储在 `config/config.json` 文件中，可以修改以下参数：

- `title`: 窗口标题
- `width`: 窗口宽度
- `height`: 窗口高度
- `unit`: 网格单元格大小
- `grid`: 是否显示网格
- `gridColor`: 网格颜色
- `cellColors`: 细胞颜色列表
- `refreshRate`: 刷新率
- `cellMaxCount`: 最大细胞数量

## 项目结构

```
cell_world_py/
├── config/             # 配置模块
│   ├── __init__.py
│   ├── config.py      # 配置管理
│   └── config.json    # 配置文件
├── creature/          # 生物模块
│   ├── __init__.py
│   └── creature.py    # 生物实现
├── world/             # 世界模块
│   ├── __init__.py
│   └── world.py       # 游戏世界实现
├── __init__.py
├── main.py            # 程序入口
├── requirements.txt   # 依赖项
└── README.md          # 说明文档
```

## 游戏控制

- ESC: 退出游戏
- 关闭窗口: 退出游戏

## 游戏机制

### 生物生长

生物的细胞按照以下规则生长：

- 如果一个活细胞周围有 2-3 个活细胞，它会继续存活
- 如果一个死细胞周围有 3 个活细胞，它会变成活细胞
- 其他情况下，细胞会死亡

### 生物分裂

当生物内部出现连续的两个空行或空列时，它会分裂成两个新生物。分裂优先按列进行，如果没有连续的空列，则尝试按行分裂。

### 捕食

当两个生物重叠时，较大的生物（细胞数量更多）会吃掉较小的生物，并获得其细胞。

### 老化

生物会随着年龄增长而老化。当生物的年龄超过一定值时，它会开始失去细胞，最终可能导致死亡。
